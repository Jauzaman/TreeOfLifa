<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>St√∂rre Lifa | Kraftfull Exfoliering | TreeOfLifa | Fri Frakt</title>
    <meta name="description" content="Extra tjock och h√•llbar lifa f√∂r intensiv djupreng√∂ring. Perfekt f√∂r hela kroppen. 100% naturlig. Fri frakt!">
    <meta name="keywords" content="stor lifa, kraftig exfoliering, djupreng√∂ring, naturlig svamp">
    <script src="../config.js"></script>
    <style>
        :root { --earth-dark: #3d5a3c; --terracotta: #d4a574; --cream: #f9f6f0; --soft-black: #2d2d24; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Palatino', 'Georgia', serif; line-height: 1.8; color: var(--soft-black); background: var(--cream); }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .breadcrumb { margin-bottom: 20px; font-size: 0.9em; }
        .breadcrumb a { color: var(--terracotta); text-decoration: none; }
        .product-page { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; margin-top: 40px; }
        .product-image { position: sticky; top: 20px; height: fit-content; }
        .product-image img { width: 100%; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .product-info h1 { color: var(--earth-dark); font-size: 2.5em; margin-bottom: 20px; }
        .product-price { font-size: 2em; color: var(--earth-dark); font-weight: bold; margin: 20px 0; }
        .product-price span { font-size: 0.5em; color: #666; font-weight: normal; }
        .buy-button { background: linear-gradient(135deg, var(--earth-dark), var(--terracotta)); color: white; border: none; padding: 20px 50px; font-size: 1.2em; border-radius: 50px; cursor: pointer; width: 100%; margin: 30px 0; }
        .buy-button:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .features { background: #f0f7f0; padding: 30px; border-radius: 10px; margin: 30px 0; }
        .features h3 { color: var(--earth-dark); margin-bottom: 15px; }
        .features ul { list-style: none; padding: 0; }
        .features li { padding: 10px 0; padding-left: 30px; position: relative; }
        .features li:before { content: "‚úì"; position: absolute; left: 0; color: var(--earth-dark); font-weight: bold; font-size: 1.3em; }
        .trust-badges { display: flex; gap: 20px; margin: 30px 0; flex-wrap: wrap; }
        .badge { background: white; padding: 15px 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); text-align: center; }
        .badge strong { display: block; color: var(--earth-dark); }
        @media (max-width: 768px) { .product-page { grid-template-columns: 1fr; gap: 30px; } .product-image { position: relative; top: 0; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="https://treeoflifa.se">Hem</a> / <a href="https://treeoflifa.se/#products">Produkter</a> / St√∂rre Lifa
        </div>
        <div class="product-page">
            <div class="product-image">
                <img src="https://raw.githubusercontent.com/Jauzaman/TreeOfLifa/main/IMG_4057.JPG" alt="St√∂rre Lifa">
            </div>
            <div class="product-info">
                <h1>St√∂rre Lifa</h1>
                <p style="font-size: 1.2em; color: #666;">Extra tjock och h√•llbar lifa f√∂r intensiv djupreng√∂ring. Perfekt f√∂r hela kroppen och l√•ngvarigt bruk.</p>
                <div class="product-price">85 kr <span>Fri frakt i hela Sverige üì¶</span></div>
                <button class="buy-button" onclick="addToCart('St√∂rre Lifah', 85)">üõí L√§gg i kundvagn</button>
                
                <!-- Recensioner -->
                <div id="reviews-section" style="margin: 20px 0; padding: 20px; background: #f9f9f9; border-radius: 10px;">
                    <div id="reviews-display" style="margin-bottom: 15px;">
                        <span style="color: #999;">‚≠ê Laddar recensioner...</span>
                    </div>
                    <button onclick="openReviewModal()" style="
                        background: none;
                        border: 2px solid var(--terracotta);
                        color: var(--terracotta);
                        font-size: 1rem;
                        cursor: pointer;
                        padding: 12px 24px;
                        border-radius: 25px;
                        transition: all 0.3s;
                        font-weight: 500;
                    " onmouseover="this.style.background='var(--terracotta)'; this.style.color='white'" onmouseout="this.style.background='none'; this.style.color='var(--terracotta)'">
                        ‚úçÔ∏è Skriv en recension
                    </button>
                </div>
                
                <div class="trust-badges">
                    <div class="badge"><strong>‚úì Extra Tjock</strong><span>H√•llbar</span></div>
                    <div class="badge"><strong>‚úì 100% Naturlig</strong><span>V√§xtbaserad</span></div>
                    <div class="badge"><strong>‚úì Fri Frakt</strong><span>Hela Sverige</span></div>
                </div>
                <div class="features">
                    <h3>üåø Varf√∂r v√§lja St√∂rre Lifa?</h3>
                    <ul>
                        <li>Extra tjock konstruktion f√∂r l√•ngvarig anv√§ndning</li>
                        <li>Perfekt f√∂r intensiv djupreng√∂ring</li>
                        <li>St√∂rre yta = snabbare reng√∂ring</li>
                        <li>Mycket h√•llbar och resistent</li>
                        <li>100% naturlig och ekologisk</li>
                        <li>Helt utan kemikalier</li>
                    </ul>
                </div>
                <div style="margin: 40px 0; line-height: 1.9;">
                    <h2 style="color: var(--earth-dark); margin-bottom: 20px;">F√∂r den som vill ha mer</h2>
                    <p>V√•r st√∂rre lifa √§r den ultimata l√∂sningen f√∂r dig som vill ha en kraftfull men naturlig exfoliering. Den extra tjocka konstruktionen g√∂r den extremt h√•llbar och perfekt f√∂r regelbunden anv√§ndning.</p>
                    <h2 style="color: var(--earth-dark); margin-top: 40px; margin-bottom: 20px;">Perfekt f√∂r:</h2>
                    <ul style="margin-left: 20px;">
                        <li>üí™ Intensiv kroppsskrubb</li>
                        <li>üèÉ Idrottare som vill ha djupreng√∂ring</li>
                        <li>üë® M√§n med grov hud</li>
                        <li>ü¶µ Extra fokus p√• f√∂tter och armb√•gar</li>
                        <li>‚è∞ Sparar tid med st√∂rre yta</li>
                    </ul>
                </div>
                <button class="buy-button" onclick="addToCart('St√∂rre Lifah', 85)">üõí L√§gg i kundvagn - 85 kr</button>
            </div>
        </div>
    </div>
    <script>
        const API_BASE_URL = 'https://treeoflifa.se';
        const PRODUCT_NAME = 'St√∂rre Lifah';
        
        document.addEventListener('DOMContentLoaded', function() {
            loadProductReviews();
        });
        
        async function loadProductReviews() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/reviews/${encodeURIComponent(PRODUCT_NAME)}`);
                if (!response.ok) throw new Error('Failed to load reviews');
                
                const data = await response.json();
                const reviewsEl = document.getElementById('reviews-display');
                
                if (data.stats.totalReviews === 0) {
                    reviewsEl.innerHTML = '<span style="color: #999; font-size: 0.95rem;">Inga recensioner √§n. Bli f√∂rst att recensera!</span>';
                } else {
                    const avgRating = parseFloat(data.stats.averageRating);
                    const stars = '‚≠ê'.repeat(Math.round(avgRating));
                    let reviewsHTML = `<div style="margin-bottom: 20px;"><div style="font-size: 1.3rem; margin-bottom: 10px;"><span style="color: #f4a261; font-weight: 600;">${stars} ${avgRating}/5</span> <span style="color: #666; font-size: 0.95rem;">(${data.stats.totalReviews} ${data.stats.totalReviews === 1 ? 'recension' : 'recensioner'})</span></div></div>`;
                    data.reviews.forEach(review => {
                        const reviewStars = '‚≠ê'.repeat(review.rating);
                        const reviewDate = new Date(review.date).toLocaleDateString('sv-SE');
                        reviewsHTML += `<div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 3px solid var(--terracotta);"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;"><strong style="color: var(--earth-dark);">${review.customerName || 'Anonym'}</strong><span style="color: #999; font-size: 0.85rem;">${reviewDate}</span></div><div style="color: #f4a261; margin-bottom: 8px;">${reviewStars}</div><p style="color: #333; line-height: 1.6; margin: 0;">${review.reviewText}</p></div>`;
                    });
                    reviewsEl.innerHTML = reviewsHTML;
                }
            } catch (error) {
                console.error('Error loading reviews:', error);
                document.getElementById('reviews-display').innerHTML = '<span style="color: #ff6b6b; font-size: 0.95rem;">‚ö†Ô∏è Kunde inte ladda recensioner</span>';
            }
        }
        
        function openReviewModal() {
            window.location.href = `/?review=${encodeURIComponent(PRODUCT_NAME)}`;
        }
        
        function addToCart(productName, price) {
            let cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const existingItem = cart.find(item => item.name === productName);
            if (existingItem) { existingItem.quantity += 1; } 
            else { cart.push({ name: productName, price: price, quantity: 1 }); }
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(`‚úì ${productName} har lagts till i kundvagnen!`);
            setTimeout(() => { window.location.href = '/?cart=open'; }, 1500);
        }
    </script>
</body>
</html>