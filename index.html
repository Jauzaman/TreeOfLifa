<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TreeOfLifa - Naturliga Luffasvampar</title>

    <!-- Stripe SDK -->
    <script src="https://js.stripe.com/v3/"></script>

    <style>
        /* ========= Bas / Reset ========= */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html,body { height: 100%; }
        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #2d4a2b;
            background-color: #fefefe;
            -webkit-font-smoothing: antialiased;
        }

        /* ========= Header / Nav ========= */
        header {
            position: fixed;
            top: 0; left: 0; right: 0;
            background: rgba(255,255,255,0.96);
            backdrop-filter: blur(8px);
            box-shadow: 0 2px 18px rgba(0,0,0,0.06);
            z-index: 1200;
        }
        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 5%;
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap: 1rem;
        }
        .logo {
            font-size: 1.7rem;
            color: #4a7c59;
            font-weight: 700;
            text-decoration: none;
            display:flex;
            align-items:center;
            gap:8px;
        }
        .logo::before { content: "🌿"; }

        .nav-links {
            display:flex;
            gap:1.5rem;
            list-style:none;
        }
        .nav-links a {
            color: #2d4a2b;
            text-decoration:none;
            font-weight:500;
        }

        .menu-toggle {
            display:none;
            font-size:1.6rem;
            background:none;
            border:none;
            cursor:pointer;
        }

        .cart-icon {
            position:relative;
            cursor:pointer;
            font-size:1.4rem;
            margin-left:1rem;
        }
        .cart-count {
            position:absolute;
            top:-8px; right:-10px;
            background:#ff6b6b;
            color:white;
            border-radius:50%;
            width:20px; height:20px;
            display:flex; align-items:center; justify-content:center;
            font-weight:700; font-size:0.8rem;
        }

        /* ========= Hero ========= */
        .hero {
            min-height: 70vh;
            display:flex;
            align-items:center;
            justify-content:center;
            text-align:center;
            padding:120px 5% 3rem; /* header height offset */
            background: linear-gradient(135deg,#f8fffe 0%, #e8f5e8 100%);
        }
        .hero h1 { font-size:2.6rem; color:#2d4a2b; font-weight:300; margin-bottom:0.5rem; }
        .hero .subtitle { color:#5a7c5a; margin-bottom:1.5rem; font-style:italic; }

        /* CTA */
        .cta-button {
            display:inline-block;
            padding:0.9rem 2rem;
            background:linear-gradient(135deg,#4a7c59 0%,#7fb069 100%);
            color:white; border-radius:40px; text-decoration:none;
            box-shadow: 0 8px 22px rgba(74,124,89,0.25);
        }

        /* ========= Sections ========= */
        .section { max-width:1200px; margin:0 auto; padding:3rem 5%; }
        .section h2 { text-align:center; color:#2d4a2b; margin-bottom:1rem; font-size:1.9rem; }

        /* ========= Products Grid ========= */
        .products-grid {
            display:grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap:1.5rem;
            margin-top:1.5rem;
        }
        .product-card {
            background:white;
            border-radius:18px;
            overflow:hidden;
            box-shadow:0 8px 30px rgba(0,0,0,0.06);
            display:flex;
            flex-direction:column;
            transition:transform .18s ease, box-shadow .18s ease;
        }
        .product-card:hover { transform:translateY(-6px); box-shadow:0 14px 40px rgba(0,0,0,0.08); }

        .product-image {
            width:100%;
            height:220px;
            display:block;
            overflow:hidden;
            background:linear-gradient(135deg,#e8f5e8 0%, #d4e6d4 100%);
        }
        .product-image img {
            width:100%;
            height:100%;
            object-fit:cover; /* important for responsive scaling */
            display:block;
        }

        .product-info { padding:1.25rem; flex:1; display:flex; flex-direction:column; gap:0.6rem; }
        .product-info h3 { margin-bottom:0.25rem; color:#2d4a2b; font-size:1.05rem; }
        .product-info p { color:#5a7c5a; font-size:0.95rem; flex:1; }
        .price { font-weight:700; color:#4a7c59; margin-top:0.6rem; }
        .buy-button {
            margin-top:0.8rem;
            background:linear-gradient(135deg,#4a7c59 0%,#7fb069 100%);
            color:white; border:none; padding:0.8rem 1rem; border-radius:24px; cursor:pointer;
            width:100%;
        }

        /* ========= Cart Sidebar ========= */
        .cart-sidebar {
            position:fixed;
            top:0; right:-420px;
            width:400px; height:100vh; background:white;
            box-shadow:-6px 0 30px rgba(0,0,0,0.12);
            transition:right .25s ease; z-index:1400; overflow-y:auto;
        }
        .cart-sidebar.open { right:0; }
        .cart-header { padding:1.2rem; border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center; }
        .cart-content { padding:1rem 1.2rem; }
        .cart-item { display:flex; justify-content:space-between; align-items:center; padding:0.8rem 0; border-bottom:1px solid #f2f2f2; }
        .quantity-controls { display:flex; align-items:center; gap:0.5rem; }
        .quantity-btn { width:30px; height:30px; border-radius:50%; border:none; background:#f0f0f0; cursor:pointer; }

        .cart-total { padding:1rem 1.2rem; border-top:2px solid #eee; text-align:center; }
        .checkout-button { width:100%; padding:0.9rem; border-radius:24px; border:none; background:linear-gradient(135deg,#4a7c59 0%,#7fb069 100%); color:white; cursor:pointer; }

        /* ========= Checkout Modal ========= */
        .checkout-modal { position:fixed; inset:0; background:rgba(0,0,0,0.65); display:none; align-items:center; justify-content:center; z-index:1500; padding:20px; }
        .checkout-modal.show { display:flex; }
        .checkout-content {
            background:white; border-radius:18px; width:520px; max-width:100%; max-height:90vh; overflow:auto; padding:1.2rem 1.4rem;
        }
        .form-group { margin-bottom:1rem; }
        .form-group label { display:block; margin-bottom:0.4rem; font-weight:600; color:#2d4a2b; }
        .form-group input, .form-group select { width:100%; padding:0.7rem; border-radius:8px; border:2px solid #e8e8e8; }

        .payment-method { display:flex; align-items:center; gap:0.7rem; padding:0.9rem; border-radius:10px; border:2px solid #e8e8e8; margin-bottom:0.8rem; cursor:pointer; }
        .payment-method.selected { border-color:#4a7c59; background:#f8fffe; }

        /* ========= Footer ========= */
        footer { background:#2d4a2b; color:white; padding:2.2rem 5%; margin-top:2rem; }
        .footer-content { max-width:1200px; margin:0 auto; text-align:center; }

        /* ========= Utility / Responsive tweaks ========= */
        @media (max-width: 900px) {
            .product-image { height:200px; }
            .checkout-content { width:92%; padding:1rem; }
        }

        @media (max-width: 768px) {
            .nav-links { display:none; position:absolute; top:64px; right:0; background:white; box-shadow:0 8px 30px rgba(0,0,0,0.06); flex-direction:column; padding:0.8rem; gap:0.6rem; border-radius:8px; }
            .nav-links.show { display:flex; }
            .menu-toggle { display:block; background:none; border:none; font-size:1.4rem; cursor:pointer; }
            .hero { padding-top:100px; }
            .product-card { border-radius:12px; }
            .product-image { height:180px; }
            .checkout-content { width:100%; height:100%; border-radius:0; margin:0; max-height:100vh; }
            .cart-sidebar { width:100%; right:-110%; } /* hide sidebar on small, we use modal instead */
            .cart-sidebar.open { right:0; }
            .buy-button { padding:0.9rem; font-size:1rem; }
            .checkout-button { padding:1rem; font-size:1rem; }
        }

        /* Smallest mobiles: bigger tap-targets */
        @media (max-width: 420px) {
            .hero h1 { font-size:1.6rem; }
            .product-image { height:160px; }
            .nav-links { width:180px; right:8px; }
        }

    </style>
</head>
<body>
    <!-- ===== Header ===== -->
    <header>
        <nav>
            <a href="#" class="logo">TreeOfLifa</a>

            <ul class="nav-links" id="nav-links">
                <li><a href="#" onclick="showPage('hem'); closeNav()">Hem</a></li>
                <li><a href="#" onclick="showPage('om-oss'); closeNav()">Om oss</a></li>
                <li><a href="#" onclick="showPage('produkter'); closeNav()">Produkter</a></li>
            </ul>

            <div style="display:flex; align-items:center; gap:0.6rem;">
                <div class="cart-icon" onclick="toggleCart()">
                    🛒 <span class="cart-count" id="cart-count">0</span>
                </div>
                <button class="menu-toggle" id="menu-toggle" aria-label="Meny" onclick="toggleNav()">☰</button>
            </div>
        </nav>
    </header>

    <!-- ===== Hem page (hero) ===== -->
    <div id="hem" class="page active" style="padding-top:80px;">
        <section class="hero">
            <div>
                <h1>Naturens Rena Skönhet</h1>
                <p class="subtitle">Upptäck våra handplockade, ekologiska luffasvampar för en naturlig hudvård</p>
                <a href="#" class="cta-button" onclick="showPage('produkter')">Utforska Produkter</a>
            </div>
        </section>

        <section class="section">
            <h2>Varför Välja TreeOfLifa?</h2>
            <p style="text-align:center; max-width:800px; margin:0.8rem auto 0;">Vi tror på naturens kraft att vårda och förnya din hud. Våra luffasvampar odlas med kärlek och respekt för miljön, vilket ger dig den bästa naturliga exfolieringen för en strålande, hälsosam hy.</p>
        </section>
    </div>

    <!-- ===== Om oss ===== -->
    <div id="om-oss" class="page" style="padding-top:80px;">
        <section class="section">
            <h2>Vår Berättelse</h2>
            <p>TreeOfLifa grundades ur en passion för naturlig skönhet och hållbar livsstil. Vi startade vår resa med en enkel övertygelse: att naturen erbjuder de bästa lösningarna för hudvård.</p>
            <p>Vårt team består av naturentusiaster som arbetar direkt med lokala odlare för att säkerställa att varje luffasvamp är av högsta kvalitet. Vi tror på transparent handel och miljövänliga metoder i varje steg av vår process.</p>
        </section>
    </div>

    <!-- ===== Produkter ===== -->
    <div id="produkter" class="page" style="padding-top:80px;">
        <section class="section">
            <h2>Vårt Naturliga Sortiment</h2>
            <p style="text-align:center; max-width:800px; margin:0.8rem auto 0;">Upptäck vår exklusiva kollektion av handplockade, ekologiska luffasvampar. Varje produkt är noggrant utvald för att ge dig den bästa naturliga exfolieringen.</p>

            <div class="products-grid" id="products-grid">
                <!-- Produkt 1 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="IMG_4031.jpg" alt="Mindre Lifah">
                    </div>
                    <div class="product-info">
                        <h3>Mindre Lifah</h3>
                        <p>Vår populäraste liffasvamp, lite kompaktare, perfekt för daglig användning. Mjuk men effektiv exfoliering för alla hudtyper.</p>
                        <div class="price">50 kr</div>
                        <button class="buy-button" onclick="addToCart('Mindre Lifah', 50)">Lägg i kundvagn</button>
                    </div>
                </div>

                <!-- Produkt 2 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="IMG_4057.jpg" alt="Större Lifa">
                    </div>
                    <div class="product-info">
                        <h3>Större Lifah</h3>
                        <p>Extra tjock och hållbar luffasvamp för djup rengöring. Idealisk för att ta bort döda hudceller och stimulera blodcirkulationen.</p>
                        <div class="price">75 kr</div>
                        <button class="buy-button" onclick="addToCart('Större Lifa', 75)">Lägg i kundvagn</button>
                    </div>
                </div>

                <!-- Produkt 3 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="IMG_4024.jpg" alt="Aleppotvål">
                    </div>
                    <div class="product-info">
                        <h3>Aleppotvål</h3>
                        <p>En mild 100% naturlig tvål som är gjord på ett urgammalt recept. Många använder denna tvål mot akne med goda resultat.</p>
                        <div class="price">50 kr</div>
                        <button class="buy-button" onclick="addToCart('Aleppotvål', 50)">Lägg i kundvagn</button>
                    </div>
                </div>

                <!-- Produkt 4 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="IMG_PRESENT.jpg" alt="Presentset">
                    </div>
                    <div class="product-info">
                        <h3>Presentset</h3>
                        <p>Komplett set i en fin presentask, perfekt som gåva till dina närmaste med två lifas och en Aleppotvål.</p>
                        <div class="price">145 kr</div>
                        <button class="buy-button" onclick="addToCart('Presentset', 145)">Lägg i kundvagn</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- ===== Cart Sidebar ===== -->
    <div class="cart-overlay" id="cart-overlay" onclick="toggleCart()" style="display:none;"></div>
    <aside class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h2>Kundvagn</h2>
            <button class="close-cart" onclick="toggleCart()">×</button>
        </div>

        <div class="cart-content" id="cart-content">
            <div class="empty-cart" id="empty-cart" style="text-align:center; padding:2rem;">
                <div style="font-size:2.2rem; color:#ccc;">🛒</div>
                <p>Din kundvagn är tom</p>
            </div>
        </div>

        <div class="cart-total" id="cart-total" style="display:none;">
            <div class="total-amount" id="total-amount">Totalt: 0 kr</div>
            <button class="checkout-button" onclick="showCheckout()">Gå till kassan</button>
        </div>
    </aside>

    <!-- ===== Checkout Modal ===== -->
    <div class="checkout-modal" id="checkout-modal" aria-hidden="true">
        <div class="checkout-content" role="dialog" aria-labelledby="checkout-heading">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
                <h2 id="checkout-heading">Slutför ditt köp</h2>
                <button class="close-cart" onclick="closeCheckout()">×</button>
            </div>

            <form id="checkout-form" onsubmit="placeOrder(); return false;">
                <div class="form-group">
                    <label>Leveransadress</label>
                    <input type="text" name="namn" placeholder="Namn" required />
                    <input type="text" name="adress" placeholder="Adress" style="margin-top:0.5rem;" required />
                    <div style="display:flex; gap:0.5rem; margin-top:0.5rem;">
                        <input type="text" name="postnummer" placeholder="Postnummer" required />
                        <input type="text" name="stad" placeholder="Stad" required />
                    </div>
                    <input type="email" name="email" placeholder="E-post" style="margin-top:0.5rem;" required />
                    <input type="tel" name="telefon" placeholder="Telefon" style="margin-top:0.5rem;" required />
                </div>

                <div class="payment-methods">
                    <h3 style="margin-bottom:0.6rem;">Välj betalmetod</h3>

                    <div class="payment-method" onclick="selectPayment(event,'klarna')">
                        <input type="radio" name="payment" value="klarna">
                        <span class="payment-icon">💳</span>
                        <div><strong>Klarna</strong><br><small>Betala senare eller dela upp betalningen</small></div>
                    </div>

                    <div class="payment-method" onclick="selectPayment(event,'card')">
                        <input type="radio" name="payment" value="card">
                        <span class="payment-icon">💳</span>
                        <div><strong>Kort (Stripe)</strong><br><small>Betala med kort via Stripe</small></div>
                    </div>

                    <div class="payment-method" onclick="selectPayment(event,'swish')">
                        <input type="radio" name="payment" value="swish">
                        <span class="payment-icon">📱</span>
                        <div><strong>Swish</strong><br><small>Betala direkt med din bank-app</small></div>
                    </div>

                    <div class="payment-method" onclick="selectPayment(event,'bankgiro')">
                        <input type="radio" name="payment" value="bankgiro">
                        <span class="payment-icon">🏦</span>
                        <div><strong>Bankgiro</strong><br><small>Traditionell banköverföring</small></div>
                    </div>

                    <div class="payment-method" onclick="selectPayment(event,'paypal')">
                        <input type="radio" name="payment" value="paypal">
                        <span class="payment-icon">💰</span>
                        <div><strong>PayPal</strong><br><small>Betala säkert med PayPal</small></div>
                    </div>
                </div>

                <div id="card-details" style="display:none; margin-top:0.6rem;">
                    <div class="form-group">
                        <label>Kortuppgifter</label>
                        <input type="text" name="kortnummer" placeholder="Kortnummer" />
                        <div style="display:flex; gap:0.5rem; margin-top:0.5rem;">
                            <input type="text" name="expiry" placeholder="MM/ÅÅ" />
                            <input type="text" name="cvc" placeholder="CVC" />
                        </div>
                        <small style="color:#666">Kortuppgifterna används endast för demonstration i fältet. Riktiga betalningar hanteras av Stripe.</small>
                    </div>
                </div>

                <div style="margin-top:1rem; padding:0.9rem; background:#f8fffe; border-radius:10px;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:0.4rem;"><span>Produkter:</span><span id="checkout-subtotal">0 kr</span></div>
                    <div style="display:flex; justify-content:space-between; margin-bottom:0.4rem;"><span>Frakt:</span><span>49 kr</span></div>
                    <hr style="border:none; height:1px; background:#e8e8e8; margin:0.6rem 0;">
                    <div style="display:flex; justify-content:space-between; font-weight:700;"><span>Totalt:</span><span id="checkout-total">49 kr</span></div>
                </div>

                <button type="submit" class="order-button" style="margin-top:1rem; width:100%; padding:0.9rem; border-radius:12px; border:none; background:linear-gradient(135deg,#4a7c59 0%,#7fb069 100%); color:white; font-weight:700;">Slutför beställning</button>
            </form>
        </div>
    </div>

    <!-- ===== Footer ===== -->
    <footer>
        <div class="footer-content">
            <h3 style="color:#7fb069; margin-bottom:0.6rem;">TreeOfLifa</h3>
            <p>Naturlig skönhet, hållbar framtid</p>
            <p style="margin-top:0.4rem